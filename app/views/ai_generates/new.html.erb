<div class="container mx-auto p-4">
  <div class="max-w-lg mx-auto">

    <h2 class="text-xl text-gray-700 font-mono text-center flex items-center justify-center mb-6">
    AI 一週間の献立と買い物リスト
    </h2>

    <!-- リクエストフォーム -->
    <%= form_with model: @ai_generate, local: true do |f| %>

      <% if @ai_generate.errors.any? %>
        <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4">
          <p class="font-bold">入力エラーがあります:</p>
            <ul class="list-disc pl-5">
            <% @ai_generate.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
            </ul>
        </div>
      <% end %>

      <div class="space-y-4">
      <div class="field">
        <%= f.label :budget_request,"一週間の予算（必須）", class: "block text-sm font-medium font-mono text-gray-700" %>
        <%= f.number_field :budget_request, value: current_user.budget, class: "input input-bordered w-full", placeholder: "予算を入力" %>
      </div>

      <div class="field">
        <%= f.label :people_request,"人数 (必須)", class: "block text-sm font-medium font-mono text-gray-700" %>
        <%= f.number_field :people_request, value:current_user.people, class: "input input-bordered w-full", placeholder: "人数を入力" %>
      </div>

      <div class="field">
        <%= f.label :allergies,"アレルギー・嫌いな食材（複数入力可）", class: "block text-sm font-mono font-medium text-gray-700" %>
        <%= f.text_field  :allergies, class: "input input-bordered w-full", placeholder: "献立に入れて欲しくない食材をコンマ区切りで入力" %>
      </div>

      <div class="field">
        <%= f.label :favorite_ingredients,"好みの食材（複数入力可）", class: "block text-sm font-medium font-mono text-gray-700" %>
        <%= f.text_field  :favorite_ingredients, class: "input input-bordered w-full", placeholder: "献立に入れて欲しい食材をコンマ区切りで入力" %>
      </div>

      <div class="field">
        <%= f.label :special_request,"リクエスト", class: "block text-sm font-medium font-mono text-gray-700" %>
        <%= f.text_field  :special_request, class: "input input-bordered w-full", placeholder: "例：和食中心がいい/揚げ物は入れない など" %>
      </div>

      <div class="text-center">
        <%= f.submit "献立を作成", class: " p-3 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500" %>
      </div>
      </div>

    <% end %>

  </div>
</div>
